<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Svelte app</title>
    </head>

    <body>
        <script defer src="/dist/componentSrc.js"></script>
        <!-- <script defer src='/Users/gergohalmi/Desktop/git/JociProject/tutirial-svlete/public/addButton/dist/bundle.js'></script>
    <script defer src="/Users/gergohalmi/Desktop/git/JociProject/tutirial-svlete/public/my-component/dist/bundle.js"></script> -->

        <h1>My app</h1>

        <div id="root"></div>

        <button id="endPosTest">TestEndPosition</button>
        <button id="startPositionTest">TestStartPosition</button>

        <label>
            End angle
            <input id="end_angle_input" type="number" />
        </label>
        <label>
            Open Angle
            <input id="open_angle_input" type="number" />
        </label>

        <script>
            document.addEventListener("DOMContentLoaded", function (event) {
                new window.DoorComponent({
                    target: document.getElementById("root"),
                    props: {
                        valueChangeEvent: "123",
                    },
                })
            })

            /*****************************
             *    TEST components
             *******************************/

            const endPosButton = document.getElementById("endPosTest")
            let stateOfEnd = false
            endPosButton.addEventListener("click", function () {
                document.dispatchEvent(
                    new CustomEvent(`123`, {
                        detail: { key: "end_position", value: !stateOfEnd },
                    })
                )
                stateOfEnd = !stateOfEnd
            })

            const startPositionTest = document.getElementById(
                "startPositionTest"
            )
            let stateOfStart = false
            startPositionTest.addEventListener("click", function () {
                document.dispatchEvent(
                    new CustomEvent(`123`, {
                        detail: { key: "start_position", value: !stateOfStart },
                    })
                )
                stateOfStart = !stateOfStart
            })

            const angleInput = document.getElementById("end_angle_input")
            angleInput.addEventListener("change", function (event) {
                document.dispatchEvent(
                    new CustomEvent(`123`, {
                        detail: { key: "end_angle", value: event.target.value },
                    })
                )
            })

            const openAngleInput = document.getElementById("open_angle_input")
            openAngleInput.addEventListener("change", function (event) {
                document.dispatchEvent(
                    new CustomEvent(`123`, {
                        detail: {
                            key: "open_angle",
                            value: event.target.value,
                        },
                    })
                )
            })
        </script>
        <style>
            body {
                background-color: #102a42;
            }
            #root {
                padding: 5rem;
            }
            label {
                color: white;
            }
        </style>
    </body>
</html>
